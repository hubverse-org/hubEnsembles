[{"path":[]},{"path":"https://hubverse-org.github.io/hubEnsembles/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying standards acceptable behavior. Enforcement responsibility Code Conduct Committee, take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Instances abusive, harassing, otherwise unacceptable behavior may reported member Code Conduct Committee. complaints reviewed investigated promptly fairly. Code Conduct Committee use Enforcement Manual determining consequences action deem violation Code Conduct. community leaders Code Conduct Committee members obligated respect privacy security reporter incident.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired Mozilla’s code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to hubEnsembles","title":"Contributing to hubEnsembles","text":"outlines propose change hubEnsembles. general info contributing , hubverse packages, please see hubverse contributing guide. can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to hubEnsembles","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed). procedures contributing bigger changes, code particular, generally follow advised tidyverse dev team, including following tidyverse style guide code recording user facing changes NEWS.md.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to hubEnsembles","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"hubverse-org/hubEnsembles\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to hubEnsembles","text":"New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to hubEnsembles","text":"Please note hubEnsembles project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 Consortium Infectious Disease Modeling Hubs Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/articles/hubEnsembles.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"The `hubEnsembles` package","text":"hubEnsembles package provides flexible framework aggregating model outputs, forecasts projections, submitted hub multiple models combined ensemble model outputs. package includes two main functions: simple_ensemble linear_pool. illustrate functions vignette, briefly compare . vignette uses following R packages:","code":"library(dplyr) library(ggplot2) library(hubUtils) library(hubVis) library(hubEnsembles)"},{"path":"https://hubverse-org.github.io/hubEnsembles/articles/hubEnsembles.html","id":"example-data-a-forecast-hub","dir":"Articles","previous_headings":"","what":"Example data: a forecast hub","title":"The `hubEnsembles` package","text":"use example hub provided hubverse demonstrate functionality hubEnsembles package. example hub generated modified forecasts FluSight forecasting challenge, collaborative modeling exercise run US Centers Disease Control Prevention (CDC) since 2013 solicits seasonal influenza forecasts outside modeling teams. example hub includes example model output data target data (sometimes known “truth” data), stored hubExamples package data objects named forecast_outputs forecast_target_ts. Note toy model outputs contain predictions small subset rows select dates, locations, output type IDs, far fewer actual modeling hub typically collect. model output data includes quantile, mean median forecasts future incident influenza hospitalizations PMF forecasts hospitalization intensity (categories determined threshold weekly hospital admissions per 100,000 population). forecast made five task ID variables, including location forecast made (location), date forecast made (reference_date), number steps ahead (horizon), date forecast prediction (combination date forecast made forecast horizon, target_end_date), forecast target (target). print subset example model output. also corresponding target data included hubExamples package. example target data provide observed incident influenza hospitalizations (observation) given week (date) given location (location). target data used calibration data generating forecasts evaluating forecasts post hoc. forecast-specific task ID variables reference_date horizon relevant target data.","code":"hubExamples::forecast_outputs |>   dplyr::filter(     output_type %in% c(\"quantile\", \"median\", \"pmf\"),     output_type_id %in% c(0.25, 0.75, NA, \"low\", \"moderate\", \"high\", \"very high\"),     reference_date == \"2022-12-17\",     location == \"25\",     horizon == 1   ) #> # A tibble: 21 × 9 #>    model_id          location reference_date horizon target_end_date target                    output_type output_type_id   value #>    <chr>             <chr>    <date>           <int> <date>          <chr>                     <chr>       <chr>            <dbl> #>  1 Flusight-baseline 25       2022-12-17           1 2022-12-24      wk flu hosp rate category pmf         low            9.70e-6 #>  2 Flusight-baseline 25       2022-12-17           1 2022-12-24      wk flu hosp rate category pmf         moderate       2.94e-3 #>  3 Flusight-baseline 25       2022-12-17           1 2022-12-24      wk flu hosp rate category pmf         high           7.35e-2 #>  4 Flusight-baseline 25       2022-12-17           1 2022-12-24      wk flu hosp rate category pmf         very high      9.24e-1 #>  5 Flusight-baseline 25       2022-12-17           1 2022-12-24      wk inc flu hosp           quantile    0.25           5.66e+2 #>  6 Flusight-baseline 25       2022-12-17           1 2022-12-24      wk inc flu hosp           quantile    0.75           5.98e+2 #>  7 Flusight-baseline 25       2022-12-17           1 2022-12-24      wk inc flu hosp           median      NA             5.82e+2 #>  8 MOBS-GLEAM_FLUH   25       2022-12-17           1 2022-12-24      wk flu hosp rate category pmf         low            7.86e-8 #>  9 MOBS-GLEAM_FLUH   25       2022-12-17           1 2022-12-24      wk flu hosp rate category pmf         moderate       1.97e-3 #> 10 MOBS-GLEAM_FLUH   25       2022-12-17           1 2022-12-24      wk flu hosp rate category pmf         high           1.63e-1 #> # ℹ 11 more rows head(hubExamples::forecast_target_ts, 10) #>          date location observation #> 1  2020-01-11       01           0 #> 2  2020-01-11       15           0 #> 3  2020-01-11       18           0 #> 4  2020-01-11       27           0 #> 5  2020-01-11       30           0 #> 6  2020-01-11       37           0 #> 7  2020-01-11       48           0 #> 8  2020-01-11       US           1 #> 9  2020-01-18       01           0 #> 10 2020-01-18       15           0"},{"path":"https://hubverse-org.github.io/hubEnsembles/articles/hubEnsembles.html","id":"creating-ensembles-with-simple_ensemble","dir":"Articles","previous_headings":"","what":"Creating ensembles with simple_ensemble","title":"The `hubEnsembles` package","text":"simple_ensemble() function directly computes ensemble component model outputs combining via function within unique combination task ID variables, output types, output type IDs. function can used summarize predictions output types mean, median, quantile, CDF, PMF. mechanics ensemble calculations output types, though resulting statistical ensembling method differs different output types. default, simple_ensemble() uses mean aggregation function equal weights models, though user can create different types weighted ensembles specifying aggregation function weights. Using default options simple_ensemble(), can generate equally weighted mean ensemble unique combination values task ID variables, output_type output_type_id. means different ensemble methods used different output types: quantile output type example data, resulting ensemble quantile average, mean, CDF, PMF output type, ensemble linear pool. must filter sample output type yet supported. resulting model output structure original model output data, columns model ID, task ID variables, output type, output type ID, value. also use model_id = \"simple-ensemble-mean\" change name ensemble resulting model output; specified, default “hub-ensemble”. subset predictions printed .","code":"mean_ens <- hubExamples::forecast_outputs |>   dplyr::filter(output_type != \"sample\") |>   hubEnsembles::simple_ensemble(     model_id = \"simple-ensemble-mean\"   ) mean_ens |>   dplyr::filter(     output_type %in% c(\"quantile\", \"median\", \"pmf\"),     output_type_id %in% c(       0.025, 0.25, 0.75, 0.975, NA,       \"low\", \"moderate\", \"high\", \"very high\"     ),     reference_date == \"2022-12-17\",     location == \"25\",     horizon == 1   ) #> # A tibble: 7 × 9 #>   model_id             location reference_date horizon target_end_date target                    output_type output_type_id     value #>   <chr>                <chr>    <date>           <int> <date>          <chr>                     <chr>       <chr>              <dbl> #> 1 simple-ensemble-mean 25       2022-12-17           1 2022-12-24      wk flu hosp rate category pmf         high             0.151   #> 2 simple-ensemble-mean 25       2022-12-17           1 2022-12-24      wk flu hosp rate category pmf         low              0.00437 #> 3 simple-ensemble-mean 25       2022-12-17           1 2022-12-24      wk flu hosp rate category pmf         moderate         0.0233  #> 4 simple-ensemble-mean 25       2022-12-17           1 2022-12-24      wk flu hosp rate category pmf         very high        0.821   #> 5 simple-ensemble-mean 25       2022-12-17           1 2022-12-24      wk inc flu hosp           median      NA             620.      #> 6 simple-ensemble-mean 25       2022-12-17           1 2022-12-24      wk inc flu hosp           quantile    0.25           542.      #> 7 simple-ensemble-mean 25       2022-12-17           1 2022-12-24      wk inc flu hosp           quantile    0.75           704."},{"path":"https://hubverse-org.github.io/hubEnsembles/articles/hubEnsembles.html","id":"changing-the-aggregation-function","dir":"Articles","previous_headings":"Creating ensembles with simple_ensemble","what":"Changing the aggregation function","title":"The `hubEnsembles` package","text":"can change function used aggregate model outputs. example, may want calculate median component models’ submitted values quantile. specifying agg_fun = median. Custom functions can also passed agg_fun argument. illustrate defining custom function compute ensemble prediction geometric mean component model predictions. custom function used must argument x vector numeric values summarize, relevant, argument w numeric weights. expected, mean, median, geometric mean give us slightly different resulting ensembles. median point estimates, 50% prediction intervals, 90% prediction intervals figure demonstrate . Note geometric mean ensemble simple mean ensemble generate similar estimates case predicting weekly incident influenza hospitalizations Massachusetts.","code":"median_ens <- hubExamples::forecast_outputs |>   dplyr::filter(output_type != \"sample\") |>   hubEnsembles::simple_ensemble(     agg_fun = median,     model_id = \"simple-ensemble-median\"   ) geometric_mean <- function(x) {   n <- length(x)   return(prod(x)^(1 / n)) } geometric_mean_ens <- hubExamples::forecast_outputs |>   dplyr::filter(output_type != \"sample\") |>   hubEnsembles::simple_ensemble(     agg_fun = geometric_mean,     model_id = \"simple-ensemble-geometric\"   )"},{"path":"https://hubverse-org.github.io/hubEnsembles/articles/hubEnsembles.html","id":"weighting-model-contributions","dir":"Articles","previous_headings":"Creating ensembles with simple_ensemble","what":"Weighting model contributions","title":"The `hubEnsembles` package","text":"can weight contributions model ensemble using weights argument simple_ensemble(). argument takes data.frame include model_id column containing unique model ID weight column. following example, include baseline model ensemble, give less weight forecasts.","code":"model_weights <- data.frame(   model_id = c(\"MOBS-GLEAM_FLUH\", \"PSI-DICE\", \"Flusight-baseline\"),   weight = c(0.4, 0.4, 0.2) ) weighted_mean_ens <- hubExamples::forecast_outputs |>   dplyr::filter(output_type != \"sample\") |>   hubEnsembles::simple_ensemble(     weights = model_weights,     model_id = \"simple-ensemble-weighted-mean\"   ) head(weighted_mean_ens, 10) #> # A tibble: 10 × 9 #>    model_id                      location reference_date horizon target_end_date target           output_type output_type_id  value #>    <chr>                         <chr>    <date>           <int> <date>          <chr>            <chr>       <chr>           <dbl> #>  1 simple-ensemble-weighted-mean 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         0.25           0.0129 #>  2 simple-ensemble-weighted-mean 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         0.5            0.115  #>  3 simple-ensemble-weighted-mean 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         0.75           0.546  #>  4 simple-ensemble-weighted-mean 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         1              0.805  #>  5 simple-ensemble-weighted-mean 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         1.25           0.910  #>  6 simple-ensemble-weighted-mean 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         1.5            0.964  #>  7 simple-ensemble-weighted-mean 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         1.75           0.989  #>  8 simple-ensemble-weighted-mean 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         10             1      #>  9 simple-ensemble-weighted-mean 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         10.25          1      #> 10 simple-ensemble-weighted-mean 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         10.5           1"},{"path":"https://hubverse-org.github.io/hubEnsembles/articles/hubEnsembles.html","id":"creating-ensembles-with-linear_pool","dir":"Articles","previous_headings":"","what":"Creating ensembles with linear_pool","title":"The `hubEnsembles` package","text":"linear_pool() function implements linear opinion pool (LOP, also known distributional mixture) method ensembling predictions. function can used combine predictions output types mean, quantile, CDF, PMF. Unlike simple_ensemble(), function handles computation differently based output type. CDF, PMF, mean output types, linear pool method equivalent calling simple_ensemble() mean aggregation function, since simple_ensemble() produces linear pool prediction (average individual model cumulative bin probabilities). quantile output type, linear_pool() function first must approximate full probability distribution using value-quantile level pairs component model. default, done functions distfromq package, defaults fitting monotonic cubic spline interior Gaussian normal distribution tails. Quasi-random samples drawn distributional estimate, collected used extract desired quantiles final ensemble distribution. Using default options linear_pool(), can generate equally-weighted linear pool output types example hub (except median sample output types, must excluded). resulting distribution linear pool quantiles estimated using default n_samples = 1e4 quasi-random samples drawn distribution component model. figure , compare ensemble results generated simple_ensemble() linear_pool() model outputs output types PMF quantile. Panel shows PMF type predictions Massachusetts incident influenza hospitalization intensity Panel B shows quantile type predictions Massachusetts weekly incident influenza hospitalizations. expected, results two functions equivalent PMF output type: output type, simple_ensemble() method averages predicted probability category across component models, definition linear pool ensemble method. case quantile output type, simple_ensemble() computing quantile average.  Like simple_ensemble(), can change default aggregation settings. example, weights determine model’s contribution resulting ensemble may provided. can also change distribution distfromq uses estimate component models’ distributional tails either log normal cauchy using tail_dist argument. (See documentation distfromq package details function options.) Note, though, choice tail distribution usually large impact resulting ensemble distribution, except outer edges.","code":"linear_pool_norm <- hubExamples::forecast_outputs |>   dplyr::filter(!output_type %in% c(\"median\", \"sample\")) |>   hubEnsembles::linear_pool(model_id = \"linear-pool-normal\") head(linear_pool_norm, 10) #> # A tibble: 10 × 9 #>    model_id           location reference_date horizon target_end_date target           output_type output_type_id  value #>    <chr>              <chr>    <date>           <int> <date>          <chr>            <chr>       <chr>           <dbl> #>  1 linear-pool-normal 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         0.25           0.0176 #>  2 linear-pool-normal 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         0.5            0.118  #>  3 linear-pool-normal 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         0.75           0.550  #>  4 linear-pool-normal 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         1              0.819  #>  5 linear-pool-normal 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         1.25           0.919  #>  6 linear-pool-normal 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         1.5            0.968  #>  7 linear-pool-normal 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         1.75           0.990  #>  8 linear-pool-normal 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         10             1      #>  9 linear-pool-normal 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         10.25          1      #> 10 linear-pool-normal 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         10.5           1 model_weights <- data.frame(   model_id = c(\"MOBS-GLEAM_FLUH\", \"PSI-DICE\", \"Flusight-baseline\"),   weight = c(0.4, 0.4, 0.2) ) weighted_linear_pool_norm <- hubExamples::forecast_outputs |>   dplyr::filter(!output_type %in% c(\"median\", \"sample\")) |>   hubEnsembles::linear_pool(     weights = model_weights,     model_id = \"linear-pool-weighted\"   ) head(weighted_linear_pool_norm, 10) #> # A tibble: 10 × 9 #>    model_id             location reference_date horizon target_end_date target           output_type output_type_id  value #>    <chr>                <chr>    <date>           <int> <date>          <chr>            <chr>       <chr>           <dbl> #>  1 linear-pool-weighted 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         0.25           0.0129 #>  2 linear-pool-weighted 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         0.5            0.115  #>  3 linear-pool-weighted 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         0.75           0.546  #>  4 linear-pool-weighted 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         1              0.805  #>  5 linear-pool-weighted 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         1.25           0.910  #>  6 linear-pool-weighted 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         1.5            0.964  #>  7 linear-pool-weighted 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         1.75           0.989  #>  8 linear-pool-weighted 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         10             1      #>  9 linear-pool-weighted 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         10.25          1      #> 10 linear-pool-weighted 25       2022-11-19           0 2022-11-19      wk flu hosp rate cdf         10.5           1 linear_pool_lnorm <- hubExamples::forecast_outputs |>   dplyr::filter(!output_type %in% c(\"median\", \"sample\")) |>   hubEnsembles::linear_pool(     model_id = \"linear-pool-lognormal\",     tail_dist = \"lnorm\"   ) linear_pool_cauchy <- hubExamples::forecast_outputs |>   dplyr::filter(!output_type %in% c(\"median\", \"sample\")) |>   hubEnsembles::linear_pool(     model_id = \"linear-pool-cauchy\",     tail_dist = \"cauchy\"   )"},{"path":"https://hubverse-org.github.io/hubEnsembles/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Evan L Ray. Author. Li Shandross. Author, maintainer. Emily Howerton. Author. Anna Krystalli. Contributor. Nicholas G. Reich. Contributor.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ray E, Shandross L, Howerton E (2024). hubEnsembles: Ensemble methods combining hub model outputs. R package version 0.1.5,  https://hubverse-org.github.io/hubEnsembles/, https://github.com/hubverse-org/hubEnsembles.","code":"@Manual{,   title = {hubEnsembles: Ensemble methods for combining hub model outputs},   author = {Evan L Ray and Li Shandross and Emily Howerton},   year = {2024},   note = {R package version 0.1.5,  https://hubverse-org.github.io/hubEnsembles/},   url = {https://github.com/hubverse-org/hubEnsembles}, }"},{"path":"https://hubverse-org.github.io/hubEnsembles/index.html","id":"hubensembles-","dir":"","previous_headings":"","what":"Ensemble methods for combining hub model outputs","title":"Ensemble methods for combining hub model outputs","text":"goal hubEnsembles provide standard implementations commonly used methods ensembling model outputs. hubEnsembles package part hubverse project expects input data key functions formatted object model_out_tbl class.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Ensemble methods for combining hub model outputs","text":"can install development version hubEnsembles using code:","code":"remotes::install_github(\"hubverse-org/hubEnsembles\")"},{"path":"https://hubverse-org.github.io/hubEnsembles/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Ensemble methods for combining hub model outputs","text":"Please note hubEnsembles package released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Ensemble methods for combining hub model outputs","text":"Interested contributing back open-source Hubverse project? Learn get involved Hubverse Community contribute hubEnsembles package.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/linear_pool.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute ensemble model outputs as a linear pool, otherwise known as a distributional mixture, of component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, quantile, cdf, and pmf. — linear_pool","title":"Compute ensemble model outputs as a linear pool, otherwise known as a distributional mixture, of component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, quantile, cdf, and pmf. — linear_pool","text":"Compute ensemble model outputs linear pool, otherwise known distributional mixture, component model outputs combination model task, output type, output type id. Supported output types include mean, quantile, cdf, pmf.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/linear_pool.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute ensemble model outputs as a linear pool, otherwise known as a distributional mixture, of component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, quantile, cdf, and pmf. — linear_pool","text":"","code":"linear_pool(   model_outputs,   weights = NULL,   weights_col_name = \"weight\",   model_id = \"hub-ensemble\",   task_id_cols = NULL,   n_samples = 10000,   ... )"},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/linear_pool.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute ensemble model outputs as a linear pool, otherwise known as a distributional mixture, of component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, quantile, cdf, and pmf. — linear_pool","text":"model_outputs object class model_out_tbl component model outputs (e.g., predictions). weights optional data.frame component model weights. provided, column named model_id column containing model weights. Optionally, may contain additional columns corresponding task id variables, output_type, output_type_id, weights specific values variables. default NULL, case equally-weighted ensemble calculated. pre-validated. weights_col_name character string naming column weights model weights. Defaults \"weight\" model_id character string identifier use ensemble model. task_id_cols character vector names columns model_outputs specify modeling tasks. Defaults NULL, case columns model_outputs \"model_id\", \"output_type\", \"output_type_id\", \"value\" used task ids. n_samples numeric specifies number samples use calculating quantiles estimated quantile function. Defaults 1e4. ... parameters passed distfromq::make_q_fn, specifying details estimate quantile function provided quantile levels quantile values output_type \"quantile\".","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/linear_pool.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute ensemble model outputs as a linear pool, otherwise known as a distributional mixture, of component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, quantile, cdf, and pmf. — linear_pool","text":"model_out_tbl object ensemble predictions. Note additional columns input model_outputs dropped.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/linear_pool.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute ensemble model outputs as a linear pool, otherwise known as a distributional mixture, of component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, quantile, cdf, and pmf. — linear_pool","text":"underlying mechanism computations varies different output_types. output_type cdf, pmf, mean, function simply calls simple_ensemble calculate (weighted) mean component model outputs. definitional calculation cdf pmf linear pool. mean output type, justified fact (weighted) mean linear pool (weighted) mean means component distributions. output_type quantile, obtain quantiles linear pool three steps: Interpolate extrapolate provided quantiles component model obtain estimate cdf distribution. Draw samples distribution component model. reduce Monte Carlo variability, use quasi-random samples corresponding quantiles estimated distribution. Collect samples component models extract desired quantiles. Steps 1 2 process performed distfromq::make_q_fn.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/linear_pool.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute ensemble model outputs as a linear pool, otherwise known as a distributional mixture, of component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, quantile, cdf, and pmf. — linear_pool","text":"","code":"# We illustrate the calculation of a linear pool when we have quantiles from the # component models. We take the components to be normal distributions with # means -3, 0, and 3, all standard deviations 1, and weights 0.25, 0.5, and 0.25. library(purrr) component_ids <- letters[1:3] component_weights <- c(0.25, 0.5, 0.25) component_means <- c(-3, 0, 3)  lp_qs <- seq(from = -5, to = 5, by = 0.25) # linear pool quantiles, expected outputs ps <- rep(0, length(lp_qs)) for (m in seq_len(3)) {   ps <- ps + component_weights[m] * pnorm(lp_qs, mean = component_means[m]) }  component_qs <- purrr::map(component_means, ~ qnorm(ps, mean=.x)) %>% unlist() component_outputs <- data.frame(   stringsAsFactors = FALSE,   model_id = rep(component_ids, each = length(lp_qs)),   target = \"inc death\",   output_type = \"quantile\",   output_type_id = ps,   value = component_qs)  lp_from_component_qs <- linear_pool(   component_outputs,   weights = data.frame(model_id = component_ids, weight = component_weights))  head(lp_from_component_qs) #> # A tibble: 6 × 5 #>   model_id     target    output_type output_type_id value #>   <chr>        <chr>     <chr>                <dbl> <dbl> #> 1 hub-ensemble inc death quantile           0.00569 -5.00 #> 2 hub-ensemble inc death quantile           0.0100  -4.75 #> 3 hub-ensemble inc death quantile           0.0167  -4.50 #> 4 hub-ensemble inc death quantile           0.0264  -4.25 #> 5 hub-ensemble inc death quantile           0.0397  -4.00 #> 6 hub-ensemble inc death quantile           0.0567  -3.75 all.equal(lp_from_component_qs$value, lp_qs, tolerance = 1e-3,           check.attributes=FALSE) #> [1] TRUE"},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/simple_ensemble.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute ensemble model outputs by summarizing component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, median, quantile, cdf, and pmf. — simple_ensemble","title":"Compute ensemble model outputs by summarizing component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, median, quantile, cdf, and pmf. — simple_ensemble","text":"Compute ensemble model outputs summarizing component model outputs combination model task, output type, output type id. Supported output types include mean, median, quantile, cdf, pmf.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/simple_ensemble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute ensemble model outputs by summarizing component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, median, quantile, cdf, and pmf. — simple_ensemble","text":"","code":"simple_ensemble(   model_outputs,   weights = NULL,   weights_col_name = \"weight\",   agg_fun = \"mean\",   agg_args = list(),   model_id = \"hub-ensemble\",   task_id_cols = NULL )"},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/simple_ensemble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute ensemble model outputs by summarizing component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, median, quantile, cdf, and pmf. — simple_ensemble","text":"model_outputs object class model_out_tbl component model outputs (e.g., predictions). weights optional data.frame component model weights. provided, column named model_id column containing model weights. Optionally, may contain additional columns corresponding task id variables, output_type, output_type_id, weights specific values variables. default NULL, case equally-weighted ensemble calculated. pre-validated. weights_col_name character string naming column weights model weights. Defaults \"weight\" agg_fun function character string name function use aggregating component model outputs ensemble outputs. See details information. agg_args named list additional arguments passed agg_fun. model_id character string identifier use ensemble model. task_id_cols character vector names columns model_outputs specify modeling tasks. Defaults NULL, case columns model_outputs \"model_id\", \"output_type\", \"output_type_id\", \"value\" used task ids.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/simple_ensemble.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute ensemble model outputs by summarizing component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, median, quantile, cdf, and pmf. — simple_ensemble","text":"model_out_tbl object ensemble predictions. Note additional columns input model_outputs dropped.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/reference/simple_ensemble.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute ensemble model outputs by summarizing component model outputs for each combination of model task, output type, and output type id. Supported output types include mean, median, quantile, cdf, and pmf. — simple_ensemble","text":"default agg_fun \"mean\", case ensemble's output average component model outputs within group defined combination values task id columns, output type, output type id. provided agg_fun argument x vector numeric values summarize, weighted methods, argument w numeric vector weights. desired use aggregation function accept arguments, wrapper need written. weighted methods, agg_fun = \"mean\" agg_fun = \"median\" translated use matrixStats::weightedMean matrixStats::weightedMedian respectively.","code":""},{"path":"https://hubverse-org.github.io/hubEnsembles/news/index.html","id":"hubensembles-011","dir":"Changelog","previous_headings":"","what":"hubEnsembles 0.1.1","title":"hubEnsembles 0.1.1","text":"Initial Release.","code":""}]
